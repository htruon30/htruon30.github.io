<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <title>CNIT 133 Homework 3: Part 2</title>
        <meta name="description" content="Homework 3 for JavaScript, jQuery, AJAX course at CCSF">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
 
        <style>
            /* Add CSS styling here */
            .right-align { text-align: right; }
        </style>


        <script>

            $(document).ready(function(){
                $("#salespersonName").attr('title','Please make sure that the salesperson\'s name is spelled correctly');
            });

            function calculateEarnings() {
                const itemPrices = [20.99, 12.75, 9.95, 35.89];
                let totalSold = 0;

                for (let i = 0; i < 4; i++) {
                    let qty = parseFloat(document.getElementById('item' + (i + 1)).value) || 0;
                    let total = qty * itemPrices[i];
                    totalSold += total;
                    document.getElementById('qty' + (i+1)).value = qty;
                    document.getElementById('total' + (i + 1)).value = total.toFixed(2);
                }

                if (isNaN(totalSold) || totalSold < 0) {
                    alert("Invalid input. Please enter valid quantities.");
                    return;
                }

                let totalEarnings = (totalSold * 0.09) + 250;
                document.getElementById('totalSold').value = totalSold.toFixed(2);
                document.getElementById('totalEarnings').value = totalEarnings.toFixed(2);
            }

            // Clears form and all inputted data
            function clearForm() {
                document.getElementById('salesForm').reset();
                document.getElementById('totalSold').value = '';
                document.getElementById('totalEarnings').value = '';

                // Clear totals for each item
                for (let i = 1; i <= 4; i++) {
                    document.getElementById('total' + i).value = '';
                }
            }

        </script>
 
    </head>
    <body>
        <h1>Homework 3 - Part 2</h1>
        <h2>Sales Commisiion Calculator</h2>
        <form id="salesForm">
            <label for="salespersonName">Seller's Name:</label>
            <input type="text" id="salespersonName" name="salespersonName"><br><br>
    
            <!-- Item input fields -->
            <p>For each item type the quantity sold by the seller</p>

            <label for="item1">Item 1:</label>
            <input type="number" id="item1"><br><br>

            <label for="item2">Item 2:</label>
            <input type="number" id="item2"><br><br>

            <label for="item3">Item 3:</label>
            <input type="number" id="item3"><br><br>

            <label for="item4">Item 4:</label>
            <input type="number" id="item4"><br><br>



            <table>
                <tr>
                    <th>Item</th>
                    <th>Qty Sold</th>
                    <th>Total</th>
                </tr>
                <tr>
                    <td>Item 1 ($20.99 each):</td>
                    <td><input type="number" id="qty1" readonly></td>
                    <td><input type="text" id="total1" readonly></td>
                </tr>
                <tr>
                    <td>Item 2 ($12.75 each):</td>
                    <td><input type="number" id="qty2" readonly></td>
                    <td><input type="text" id="total2" readonly></td>
                </tr>
                <tr>
                    <td>Item 3 ($9.95 each):</td>
                    <td><input type="number" id="qty3" readonly"></td>
                    <td><input type="text" id="total3" readonly></td>
                </tr>
                <tr>
                    <td>Item 4 ($35.89 each):</td>
                    <td><input type="number" id="qty4" readonly></td>
                    <td><input type="text" id="total4" readonly></td>
                </tr>
            </table>
            <br>
            <button type="button" onclick="calculateEarnings()">Calculate Earnings</button>
            <button type="button" onclick="clearForm()">Clear Form</button>
            <br>
        </form>
    
        <div>
            <label>Total Sold:</label>
            <input type="text" id="totalSold" readonly class="right-align"><br>
            <label>Total Earnings:</label>
            <input type="text" id="totalEarnings" readonly class="right-align">
        </div>

        <br>
        <br>
        <a href="hw3.html" style="background-color: green; color: white; padding: 10px; text-decoration: none; border-radius: 5px;">Go back to Homework 3 Main Page</a>
    
    </body>
    
</html>